<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="utf-8"/>
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <link rel="shortcut icon" href="../pics/scicon.jpg" type="image/jpeg"/>
 <link rel="apple-touch-icon" href="../pics/scicon.jpg" type="image/jpeg"/>
 <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
 <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css"> 
<!-- Website Header -->
<title>Installing The Hive Project 11/??/19</title>
<meta name="description" content="Irvin Lemus IT and Cybersecurity Consulting"/>        
<meta property="og:image" content="../pics/scicon.jpg"/>
<meta name="keywords" content="Consulting, Cybersecurity, IT, Security"/>
<style>
body {margin: 0;font-family: Arial, Helvetica, sans-serif;}
.topnav {overflow: hidden;background-color: #333;}
.topnav a {float: left;color: #f2f2f2;text-align: center;padding: 14px 16px;text-decoration: none;font-size: 17px;}
.topnav a:hover {background-color: #ddd;color: black;}
.topnav a.active {background-color:#66a3ff;color: white;}
img {display:block;margin-left: auto; margin-right: auto;}
</style>

<div class="topnav" id="top">
  <a href="../index.html">Home</a>
  <a href="../about.html">About</a>
  <a href="../blog.html">Blog</a>
  <a href="https://www.github.com/infosecirvin" target="_blank">GitHub</a>
  <a href="https://www.twitter.com/@infosecirvin"target="_blank" >Twitter</a>
</div>
</head>
<!-- -->
<div>
<div class="w3-padding">
<header class="w3-container w3-center w3-padding-32"> 
  <h1><b>Installing The Hive Project</b></h1>
  <h2>November ??, 2019</h2>
  <img src="../pics/blog/thehive/hivelogo.png" alt="The Hive Project" style="width: 20%">
</header>

<p><a href="https://thehive-project.org/" target="_blank">The Hive Project</a> is a open source SOC tool, one of many I saw at Pacific Hackers 2019 and one that I found interesting for the spring <a href="https://baycyber.net/competitions" target="_blank">Bay Area Regionals Competition.</a> While at the time of this writing I cannot give any specifics to the game, I see no problem saying what tools students will be using in order to get them to do research ahead of time. So this will focus on getting an instance of The Hive Project installed and ready to go.</p> 

<h3>Setting up the VM</h3>
<p>First step is to get a VM with Docker and Docker Compose. If you have read my earlier posts, I recommend Digital Ocean for this, as they have a VM image ready to go with everything required. Create an image with more than 8 GB of RAM.</p>
<img src="../pics/blog/phack/docker1.png" alt="Docker image" style="width: 20%">
<p><i><center>This has all you need to get started, docker and docker-compose!</center></i></p>

<p>With this image ready to go, we will proceed to changing the password and then updating the system.</p>
<img src="../pics/blog/thehive/update.png" alt="Updating Linux" style="width: 20%">

<h3>Installing The Hive Project via Docker</h3>
<p>Per <a href="https://github.com/TheHive-Project/TheHiveDocs/blob/master/installation/install-guide.md#docker" target="_blank">their directions here,</a> you should create a docker-compose.yml file with the information provided. This should do the heavy lifting for you and create the system, with The Hive accessible on your VM's address port 9000. </p>
<img src="../pics/blog/thehive/docker-compose.png" alt="Docker Compose file" style="width: 20%">
<p><i><center>Per their instructions, run docker-compose up to get the process started.</center></i></p>
<img src="../pics/blog/thehive/elasticfail.png" alt="Elastic Fail" style="width: 20%">
<p>Verify all three instances are up and running by running <i>docker container ls</i>. If you see three VMs, you should be good to go. I ran into an issue where elasticsearch was not running because it didn't have enough memory. What fixed this was the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/vm-max-map-count.html" target="_blank">solution from here.</a></p> 

<p>With the three VMs up, the site should be ready to be accessed. Go to your IP address and add port 9000 to access the system <i>(i.e. 192.168.1.1:9000)</i>. </p>



</div>
</div>
</div>
</div>
<!-- Footer -->
<footer class="w3-container">
  <p>Â© 2019 Irvin Lemus</p>
  <div style="position:relative;bottom:20px;" class="w3-tooltip w3-right">  
    <a class="w3-text-white" href="#top"><span class="w3-small">
  </div>
</footer>
