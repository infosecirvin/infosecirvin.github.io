<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="utf-8"/>
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <link rel="shortcut icon" href="../pics/scicon.jpg" type="image/jpeg"/>
 <link rel="apple-touch-icon" href="../pics/scicon.jpg" type="image/jpeg"/>
 <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
 <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css"> 
<!-- Website Header -->
<title>Kali & GCP 07/24/19</title>
<meta name="description" content="Irvin Lemus IT and Cybersecurity Consulting"/>        
<meta property="og:image" content="../pics/scicon.jpg"/>
<meta name="keywords" content="Consulting, Cybersecurity, IT, Security"/>
<style>
body {margin: 0;font-family: Arial, Helvetica, sans-serif;}
.topnav {overflow: hidden;background-color: #333;}
.topnav a {float: left;color: #f2f2f2;text-align: center;padding: 14px 16px;text-decoration: none;font-size: 17px;}
.topnav a:hover {background-color: #ddd;color: black;}
.topnav a.active {background-color:#66a3ff;color: white;}
img {display:block;margin-left: auto; margin-right: auto;}
</style>

<div class="topnav" id="top">
  <a href="../index.html">Home</a>
  <a href="../about.html">About</a>
  <a href="../blog.html">Blog</a>
  <a href="https://www.github.com/infosecirvin" target="_blank">GitHub</a>
  <a href="https://www.twitter.com/@infosecirvin"target="_blank" >Twitter</a>
</div>
</head>
<!-- -->
<div>
<div class="w3-padding">
<header class="w3-container w3-center w3-padding-32"> 
  <h1><b>Kali Linux on GCP</b></h1>
  <h2>July 24, 2019</h2>
</header>

<p>The Bay Area Competitions Program is currently running as a hybrid cloud between NDG's Netlab+ and Google Cloud. In my research, installing Kali Linux to other cloud platforms (Azure has Kali ready to deploy; I have seen scripts to deploy on AWS) is relatively easy. This guide will show how to get Kali Linux running on a GCP image. In order to follow along, you will need an account with GCP already; if not, please follow <a href="https://samsclass.info/123/proj14/p1cgc.htm" target="_blank">Sam Bowne's</a> steps before continuing.</p>

<h3>Creating the VM</h3>
<p>Kali runs on Debian, so creating a Debian VM is the easiest part. You can use the standard configuration size. If you are thinking about installing all of Kali Linux's tools, I recommend raising the disk space to at least 20 GB (all of the tools require 6 GB).</p>

<img src="../pics/blog/kaligcp/01.png" alt="VM in GCP" style="width: 70%">

<p>Once the image is ready, click on SSH to get a shell.</p>

<img src="../pics/blog/kaligcp/02.png" alt="Shell" style="width: 70%">

<h3>Preparing the VM for Kali</h3>
<p>With the VM ready, we'll make some initial changes, starting with the root user's password; change that to something you know and will use on this system and login as the root user. As always, you should choose a secure password to prevent outsiders from gaining access to this system.</p>

<img src="../pics/blog/kaligcp/03.png" alt="password" style="width: 70%">

<h4>Change 1: Edit the Sources File</h4>
<p>As the root user, we'll make the following changes to the sources.list file:<br> 
<i style="text-align: center;">nano /etc/apt/sources.list</i></p>

<img src="../pics/blog/kaligcp/04.png" alt="sources changes" style="width: 70%">

<h4>Change 2: Add the Signature for the new Repository</h4>
<p>Adding the signature will allow Debian to trust the new repository and download the updates.</p>
<p><i>wget https://archive.kali.org/archive-key.asc<br>
apt-key add archive-key.asc</i></p>

<img src="../pics/blog/kaligcp/05.png" alt="added keys" style="width: 70%">

<h4>Tools Install</h4>
<p>Using <a href="https://tools.kali.org/kali-metapackages" target="_blank">this page as your guide</a>, you can choose what meta packages to install on your ready VM. In my case, I will install the top 10 tools used in Kali by typing:<br><br>
<i>apt install kali-linux-top10</i><br><br>
You can select any of the various meta packages or install specific tools of your choice to custom build your image. In the prompts that appeared, I did not allow non-superusers to capture packets and did let the install process restart services without asking me.</p>
<p>Have fun hacking on your cloud instance of Kali Linux!</p>


</div>
</div>
<!-- Footer -->
<footer class="w3-container">
  <p>Â© 2019 Irvin Lemus</p>
  <div style="position:relative;bottom:20px;" class="w3-tooltip w3-right">  
    <a class="w3-text-white" href="#top"><span class="w3-small">
  </div>
</footer>