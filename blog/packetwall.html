<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="utf-8"/>
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <link rel="shortcut icon" href="../pics/scicon.jpg" type="image/jpeg"/>
 <link rel="apple-touch-icon" href="../pics/scicon.jpg" type="image/jpeg"/>
 <link rel="stylesheet" href="w3.css">
 <link rel="stylesheet" href="w3-theme-black.css">
 <link rel="stylesheet" href="font-awesome.min.css">
<!-- Website Header -->
<title>Packetwall Project 3/00/2021</title>
<meta name="description" content="Irvin Lemus IT and Cybersecurity Consulting"/>
<meta property="og:image" content="../pics/scicon.jpg"/>
<meta name="keywords" content="Consulting, Cybersecurity, IT, Security"/>
<style>
body {margin: 0;font-family: Arial, Helvetica, sans-serif;}
.topnav {overflow: hidden;background-color: #333;}
.topnav a {float: left;color: #f2f2f2;text-align: center;padding: 14px 16px;text-decoration: none;font-size: 17px;}
.topnav a:hover {background-color: #ddd;color: black;}
.topnav a.active {background-color:#66a3ff;color: white;}
img {display:block;margin-left: auto; margin-right: auto;}
.container {padding: 15px;}
h1 {text-align: center;}
h2 {text-align: center;}
.row {display: flex;}
.column {flex: 33.33%;padding: 5px;}
</style>

<div class="topnav" id="top">
  <a href="../index.html">Home</a>
  <a href="../about.html">About</a>
  <a class="active" href="../blog.html">Blog</a>
  <a href="../media.html">Media</a>
  <a href="../class.html">Free Courses</a>
  <a href="../workshops.html">Workshops</a>
</div>
</head>
<!-- -->
<div class="container">
<div class="w3-padding">
<header class="w3-container w3-center w3-padding-32">
  <h1><b>Packetwall Project</b></h1>
  <h2>March 00, 2021</h2>
  <img src="../pics/blog/rainbowtables/rt.png" alt="Packetwall" style="width: 70%">
</header>
<p>At a conference, <a href="https://twitter.com/@laurachappell" target="_blank">Laura Chappel</a> talked about a wall she had with lava lamps that light up when certain packets pass her network. I recalled it and said, why not make it and write about it?</p>

<h2>Equipment Purchases</h2>
<ul>
  <li>Raspberry Pi (any with GPIO pins will work). I had a Pi 3B doing nothing with a 32 GB sd card.</li>
  <li>RexQualis Electronics Component Fun Kit (found on <a href="https://www.amazon.com/REXQualis-Electronics-tie-Points-Breadboard-Potentiometer/dp/B073ZC68QG/ref=sr_1_3?crid=30IPOFLZ486RM&dchild=1&keywords=rexqualis+electronics+component+fun+kit&qid=1614703936&sprefix=rexqualis%2Caps%2C246&sr=8-3" target="_blank">Amazon</a> for $15.19)</li>
  <li>SharkTapUSB Ethernet Sniffer (found on <a href="https://www.amazon.com/gp/product/B01N370ZQV" target="_blank">Amazon</a> for $249.95)</li>
  <li>Adafuit Quad Level Shifter (found on <a href="https://www.amazon.com/Adafruit-Accessories-Quad-Level-Shifter-piece/dp/B00XW2L39K/ref=sr_1_1?dchild=1&keywords=74AHCT125&qid=1614705765&sr=8-1" target="_blank">Amazon</a> for $4.80)</li>
</ul>

<h2>Setting up the Raspberry Pi</h2>
<p>install raspbian os on sd card</p>
<p>Set up SSH on the boot partition</p>
<p>ssh into the pi and verify that the sharktap is recognized as a NIC</p>
<img src="../pics/blog/packetwall/newnic.png" alt="New NIC">
<p>The new nic is seen as "eth1"</p>

<h2>Capturing Traffic with Tshark</h2>
<p>Installing tshark with apt</p>
<p>say yes to this prompt</p>
<img src="../pics/blog/packetwall/dumpcapwarning.png" alt="Dumpcap Warning">

<p>set up ring buffer</p>
<p>Save to NAS to prevent too much I/O from burning the sd card</p>
<p>install nfs-common if its not installed already</p>
<p>using <a href="https://www.osradar.com/how-to-instll-and-configure-nfs-client-on-ubuntu-18-04/" target="_blank">this site</a> as reference, we will connect our pi to the NAS.</p>
<p>note that what is eventually displayed by the LED lights is delayed since we are writing to a file and reading it in the next step.</p>

<h2>Converting Captured Data</h2>
<p>read capture, get statistics for each display filter</p>

<h2>LED Configuration</h2>
<p>Using <a href="https://www.makeuseof.com/tag/raspberry-pi-control-led/">this page</a> as reference, we can make a program similar to light up LEDs based on our rules</p>
<p>Using <a href="https://opensource.com/article/21/1/light-display-raspberry-pi" target="_blank">this page</a> as reference, we can build the schematics for the actual build.</p>

</div>
</div>
<!-- Footer -->
<footer class="w3-container">
  <p>Â© 2013-2021 Irvin Lemus</p>
</footer>
<!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "ce880d4e71b1456a90ad1f2274d3d621"}'></script><!-- End Cloudflare Web Analytics -->
